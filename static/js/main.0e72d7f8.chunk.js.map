{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","images/succes.svg","images/denied.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","className","to","src","alt","loggedIn","email","path","exact","onClick","onLogOut","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","like","link","name","onCardClick","loading","type","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","i","Footer","PopupWithForm","ref","useRef","useEffect","current","addEventListener","console","log","isOpened","onClose","action","noValidate","onSubmit","title","children","ImagePopup","api","options","this","_baseUrl","baseUrl","_token","token","_loginUrl","loginUrl","res","ok","json","Promise","reject","Error","status","fetch","headers","authorization","then","_getResponse","data","method","body","JSON","stringify","id","deleteLike","putLike","EditProfilePopup","useState","setName","description","setDescription","e","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","target","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","setLink","InfoTooltip","isSuccess","setIsSuccess","Success","Denied","ProtectedRoute","Component","component","withRouter","setEmail","password","setPassword","history","useHistory","push","catch","message","App","isEditProfilePopupOpened","setIsEditProfilePopupOpened","isEditAvatarPopupOpened","setIsEditAvatarPopupOpened","isAddPlacePopupOpened","setIsAddPlacePopupOpened","isImagePopupOpened","setIsImagePopupOpened","isInfoTooltipOpened","setIsInfoTooltipOpened","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","a","l","changeLikeStatus","newCard","newCards","c","deleteCard","filter","closeAllPopups","user","setProfileInfo","setProfileAvatar","postNewCard","registration","login","checkToken","localStorage","setItem","getInitialCards","getContent","getProfileInfo","getUserInfo","jwt","getItem","Provider","Logo","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0e72d7f8.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from \"react\";\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\n\r\n\r\nfunction Header(props) {\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <Link to=\"/\" className=\"header__logo\">\r\n        <img src={props.src} alt=\"Логотип с надписью Место.\" className=\"header__logo-img\" />\r\n      </Link>\r\n      <div className=\"header__profile\">\r\n        {props.loggedIn ? (<p className=\"header__email\">{props.email}</p>) : ''}\r\n        <Switch>\r\n          <Route path=\"/sign-in\">\r\n            <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n            <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <Link to=\"/sign-up\" onClick={props.onLogOut} className=\"header__link\">Выйти</Link>\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </header >\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport React from 'react';\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some((like) => {\r\n    return like._id === currentUser._id;\r\n  });\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n  function handleCardDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n  return (\r\n    <div className={props.className} >\r\n      <>\r\n        <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick} loading=\"lazy\" />\r\n        {isOwn && <button type=\"button\" className=\"card__delete\" onClick={handleCardDeleteClick}></button>}\r\n        <div className=\"card__body\">\r\n          <h3 className=\"card__heading\">{props.card.name}</h3>\r\n          <div className=\"card__like\">\r\n            <button type=\"button\" className={`card__btn ${isLiked && \"card__btn_active\"}`} onClick={handleLikeClick}></button>\r\n            <span className=\"card__like-count\">{props.card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    </div>\r\n  );\r\n}\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__inner\">\r\n          <div className=\"profile__overlay\" onClick={props.onEditAvatar}></div>\r\n          <img src={currentUser.avatar} alt={`Аватар ${currentUser.name}`} className=\"profile__photo\" />\r\n        </div>\r\n        <div className=\"profile__column\">\r\n          <div className=\"profile__row\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"profile__btn profile__btn_edit\" onClick={props.onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__subtitle\">\r\n            {currentUser.about}\r\n          </p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__btn profile__btn_add\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"cards-gallery\">\r\n        {props.cards.map((card, i) => {\r\n          return (\r\n            <Card className=\"card\" key={card._id} onCardClick={props.onCardClick} card={card} onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete} />\r\n          );\r\n        })}\r\n      </section>\r\n    </main >);\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  const ref = React.useRef();\r\n  React.useEffect(() => {\r\n    ref.current.addEventListener('click', () => {\r\n      console.log('click');\r\n    });\r\n  }, []);\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpened && \"popup_opened\"}`} ref={ref}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n        <form action=\"#\" className=\"popup__form\" name={props.name} noValidate onSubmit={props.onSubmit}>\r\n          <h2 className=\"popup__title\">\r\n            {props.title}\r\n          </h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__submit\" >Сохранить</button>\r\n        </form>\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","function ImagePopup(props) {\r\n  return (\r\n    <div className={`popup popup_type_image ${props.isOpened && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n        <figure className=\"popup__figure\">\r\n          <img src={props.card.src} alt={props.card.name} className=\"popup__image\" />\r\n          <figcaption className=\"popup__caption\">{`${props.card.name}`}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","export class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._token = options.token;\r\n    this._loginUrl = options.loginUrl;\r\n  }\r\n\r\n  _getResponse(res) {\r\n    if (res.ok)\r\n      return res.json();\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => {\r\n        return this._getResponse(res);\r\n      })\r\n  }\r\n\r\n  setProfileInfo(data) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  putLike(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  changeLikeStatus(id, isLiked) {\r\n    return (isLiked) ? this.deleteLike(id) : this.putLike(id);\r\n  }\r\n\r\n  setProfileAvatar(data) {\r\n    return fetch(`${this._baseUrl}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n  registration(data) {\r\n    return fetch(`${this._loginUrl}signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  login(data) {\r\n    return fetch(`${this._loginUrl}signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  checkToken(token) {\r\n    return fetch(`${this._loginUrl}users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n}\r\n\r\nconst options = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19/',\r\n  loginUrl: 'https://auth.nomoreparties.co/',\r\n  token: 'aac4a60b-b09e-40d2-9391-f119b1a59443'\r\n}\r\nconst api = new Api(options);\r\nexport default api;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(e) {\r\n    e.preventDefault();\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    e.preventDefault();\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpened={props.isOpened}\r\n      onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"name-input\" type=\"text\" className=\"popup__input  popup__input_type_title\"\r\n        placeholder=\"Имя\" name=\"name\" required minLength=\"2\" maxLength=\"40\"\r\n        value={name || ''} onChange={handleNameChange} />\r\n      <span id=\"name-input-error\" className=\"popup__error\" ></span>\r\n      <input id=\"job-input\" type=\"text\" className=\"popup__input popup__input_type_subtitle\"\r\n        placeholder=\"О себе\" name=\"about\" required minLength=\"2\" maxLength=\"200\"\r\n        value={description || ''} onChange={handleDescriptionChange} />\r\n      <span id=\"job-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const ref = React.useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({ avatar: ref.current.value });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\"\r\n      isOpened={props.isOpened} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"avatar-input\" type=\"url\" className=\"popup__input  popup__input_type_link\"\r\n        placeholder=\"Ссылка на картинку\" name=\"avatar\" required ref={ref} />\r\n      <span id=\"avatar-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChange(e) {\r\n    e.preventDefault();\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    e.preventDefault();\r\n    setLink(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({ name, link });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"add-card\" title=\"Новое место\" isOpened={props.isOpened} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"place-input\" type=\"text\" className=\"popup__input popup__input_type_place\"\r\n        placeholder=\"Название\" name=\"name\" required minLength=\"2\" maxLength=\"30\" value={name || ''} onChange={handleNameChange} />\r\n      <span id=\"place-input-error\" className=\"popup__error\"></span>\r\n      <input id=\"link-input\" type=\"url\" className=\"popup__input popup__input_type_link\"\r\n        placeholder=\"Ссылка на картинку\" name=\"link\" required value={link || ''} onChange={handleLinkChange} />\r\n      <span id=\"link-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","export default __webpack_public_path__ + \"static/media/succes.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/denied.df8eddf6.svg\";","import React from 'react';\r\nimport Success from '../images/succes.svg';\r\nimport Denied from '../images/denied.svg'\r\nfunction InfoTooltip(props) {\r\n  const [isSuccess, setIsSuccess] = React.useState(false);\r\n\r\n  React.useEffect(() => {\r\n    setIsSuccess(props.isSuccess);\r\n  }, [props.isSuccess]);\r\n  return (\r\n    <div className={`popup popup_type_info ${props.isOpened && \"popup_opened\"}`}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n        <div className=\"popup__inner\">\r\n          {isSuccess ? (<>\r\n            <img src={Success} className=\"popup__icon\" alt=\"Успех\" />\r\n            <p className=\"popup__info\">Вы успешно зарегистрировались!</p>\r\n          </>) : (<><img src={Denied} className=\"popup__icon\" alt=\"Ошибка\" />\r\n            <p className=\"popup__info\">Что-то пошло не так!\r\nПопробуйте ещё раз.</p></>)\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default InfoTooltip;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? (<Component {...props} />) : (<Redirect to=\"/sign-up\" />)\r\n      }\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({ password, email });\r\n  }\r\n  function handleEmailChange(e) {\r\n    e.preventDefault();\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    e.preventDefault();\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"authorize__form\" action=\"#\" onSubmit={handleSubmit}>\r\n        <h2 className=\"authorize__heading\">\r\n          Вход\r\n        </h2>\r\n        <fieldset className=\"authorize__fieldset\">\r\n          <input value={email || ''} onChange={handleEmailChange} name=\"email\" className=\"authorize__input\" type=\"email\" />\r\n          <input value={password || ''} onChange={handlePasswordChange} name=\"password\" className=\"authorize__input\" type=\"password\" />\r\n        </fieldset>\r\n        <button className=\"authorize__submit\" type=\"submit\">Войти</button>\r\n      </form>\r\n    </div>)\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport { withRouter, useHistory, Link } from 'react-router-dom';\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n  const history = useHistory();\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({ password, email }).then(() => {\r\n      history.push('/sign-in');\r\n    }).catch(e => {\r\n      console.log(e.message)\r\n    })\r\n  }\r\n  function handleEmailChange(e) {\r\n    e.preventDefault();\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    e.preventDefault();\r\n    setPassword(e.target.value);\r\n  }\r\n  return (\r\n    <form className=\"authorize__form\" action=\"#\" onSubmit={handleSubmit}>\r\n      <h2 className=\"authorize__heading\">\r\n        Регистрация\r\n        </h2>\r\n      <fieldset className=\"authorize__fieldset\">\r\n        <input value={email || ''} onChange={handleEmailChange} name=\"email\" className=\"authorize__input\" type=\"email\" />\r\n        <input value={password || ''} onChange={handlePasswordChange} name=\"password\" className=\"authorize__input\" type=\"password\" />\r\n      </fieldset>\r\n      <button className=\"authorize__submit\" type=\"submit\">Зарегестрироваться</button>\r\n      <p className=\"authorize__text\">Уже зарегестрированы? <Link className=\"authorize__link\" to=\"/sign-in\">Войти</Link></p>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);","import Logo from '../images/logo.svg';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport React from 'react';\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login';\nimport Register from './Register';\n\n\nfunction App() {\n  const [isEditProfilePopupOpened, setIsEditProfilePopupOpened] = React.useState(false);\n  const [isEditAvatarPopupOpened, setIsEditAvatarPopupOpened] = React.useState(false);\n  const [isAddPlacePopupOpened, setIsAddPlacePopupOpened] = React.useState(false);\n  const [isImagePopupOpened, setIsImagePopupOpened] = React.useState(false);\n  const [isInfoTooltipOpened, setIsInfoTooltipOpened] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n\n  const [isSuccess, setIsSuccess] = React.useState(false);\n  React.useEffect(() => {\n    async function getContent() {\n      try {\n        setCards(await api.getInitialCards());\n      } catch (e) {\n        console.log(e);\n      }\n    }\n    getContent();\n  }, []);\n\n\n  async function handleCardLike(card) {\n    const isLiked = card.likes.some((l) => {\n      return l._id === currentUser._id;\n    });\n    try {\n      const newCard = await api.changeLikeStatus(card._id, isLiked);\n      const newCards = cards.map((c) => {\n        return c._id === card._id ? newCard : c;\n      });\n      setCards(newCards);\n    }\n    catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleCardDelete(card) {\n    try {\n      await api.deleteCard(card._id);\n      const newCards = cards.filter((c) => {\n        return c._id !== card._id;\n      })\n      setCards(newCards);\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n  React.useEffect(() => {\n    async function getUserInfo() {\n      try {\n        setCurrentUser(await api.getProfileInfo());\n      } catch (e) {\n        console.log(e.message);\n      }\n    }\n    getUserInfo();\n  }, []);\n\n  React.useEffect(() => {\n    async function checkToken() {\n      const jwt = localStorage.getItem('jwt');\n      if (jwt) {\n        try {\n          const res = await api.checkToken(jwt)\n          setLoggedIn(true);\n          setEmail(res.data.email);\n        } catch (e) {\n          console.log(e.message);\n        }\n      }\n    }\n    checkToken();\n  }, [loggedIn]);\n\n  function handleAvatarClick() {\n    setIsEditAvatarPopupOpened(true);\n  }\n  function handleProfileClick() {\n    setIsEditProfilePopupOpened(true);\n  }\n  function handleAddClick() {\n    setIsAddPlacePopupOpened(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      ...selectedCard,\n      src: card.link,\n      name: card.name\n    });\n    setIsImagePopupOpened(true);\n  }\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpened(false);\n    setIsEditProfilePopupOpened(false);\n    setIsAddPlacePopupOpened(false);\n    setIsImagePopupOpened(false);\n    setIsInfoTooltipOpened(false);\n  }\n\n  async function handleUpdateUser(user) {\n    try {\n      setCurrentUser(await api.setProfileInfo(user));\n      closeAllPopups();\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleUpdateAvatar(link) {\n    try {\n      setCurrentUser(await api.setProfileAvatar(link));\n      closeAllPopups();\n    }\n    catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleAddPlaceSubmit(data) {\n    try {\n      setCards([await api.postNewCard(data), ...cards]);\n      closeAllPopups();\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleRegister(data) {\n    try {\n      await api.registration(data);\n      setIsSuccess(true);\n      setIsInfoTooltipOpened(true);\n    }\n    catch (e) {\n      setIsSuccess(false);\n      setIsInfoTooltipOpened(true);\n      return Promise.reject(new Error(e.message));\n    }\n  }\n\n  async function handleLogin(data) {\n    try {\n      const login = await api.login(data);\n      const res = await api.checkToken(login.token);\n      setEmail(res.data.email);\n      localStorage.setItem('jwt', login.token);\n      setLoggedIn(true);\n    }\n    catch (e) {\n      return Promise.reject(new Error(e.message));\n    }\n  }\n\n  function handleLogOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n  }\n  return (\n    <>\n      <div className=\"page\">\n        <div className=\"page__container\">\n\n          <CurrentUserContext.Provider value={currentUser}>\n\n            <Header src={Logo} onLogOut={handleLogOut} email={email} loggedIn={loggedIn} />\n            <Switch>\n              <ProtectedRoute exact path=\"/\" component={Main} loggedIn={loggedIn}\n                onEditAvatar={handleAvatarClick} onEditProfile={handleProfileClick}\n                onAddPlace={handleAddClick} onCardClick={handleCardClick}\n                cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}\n              />\n              <Route path=\"/sign-in\">\n                <div className=\"authorize\">\n                  <Login onSubmit={handleLogin} />\n                </div>\n              </Route>\n              <Route path=\"/sign-up\">\n                <div className=\"authorize\">\n                  <Register onSubmit={handleRegister} />\n                </div>\n              </Route>\n            </Switch>\n            <Route>\n              {loggedIn ? (<Redirect exact to=\"/\" />) : (<Redirect to=\"/sign-up\" />)}\n            </Route>\n            <Footer />\n            <EditProfilePopup isOpened={isEditProfilePopupOpened} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n            <EditAvatarPopup isOpened={isEditAvatarPopupOpened} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n            <AddPlacePopup isOpened={isAddPlacePopupOpened} onClose={closeAllPopups} onSubmit={handleAddPlaceSubmit} />\n            <InfoTooltip isOpened={isInfoTooltipOpened} onClose={closeAllPopups} isSuccess={isSuccess} />\n          </CurrentUserContext.Provider>\n        </div>\n        <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" onClose={closeAllPopups} />\n        <ImagePopup card={selectedCard} isOpened={isImagePopupOpened} onClose={closeAllPopups} />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}