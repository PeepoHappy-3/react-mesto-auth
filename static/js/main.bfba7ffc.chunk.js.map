{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","images/succes.svg","images/denied.svg","components/InfoTooltip.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","React","useState","isBurgerActive","setIsBurgerActive","className","to","src","alt","onClick","loggedIn","email","path","exact","onLogOut","CurrentUserContext","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","like","link","name","onCardClick","loading","type","onCardDelete","onCardLike","length","Main","onEditAvatar","avatar","onEditProfile","about","onAddPlace","cards","map","i","Footer","PopupWithForm","ref","useRef","isOpened","e","target","current","onClose","action","noValidate","onSubmit","title","children","ImagePopup","api","options","this","_baseUrl","baseUrl","_token","token","_loginUrl","loginUrl","res","ok","json","Promise","reject","Error","status","fetch","headers","authorization","then","_getResponse","data","method","body","JSON","stringify","id","deleteLike","putLike","EditProfilePopup","setName","description","setDescription","useEffect","preventDefault","onUpdateUser","placeholder","required","minLength","maxLength","value","onChange","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","setLink","InfoTooltip","isSuccess","setIsSuccess","Success","Denied","ProtectedRoute","Component","component","withRouter","setEmail","password","setPassword","App","isEditProfilePopupOpened","setIsEditProfilePopupOpened","isEditAvatarPopupOpened","setIsEditAvatarPopupOpened","isAddPlacePopupOpened","setIsAddPlacePopupOpened","isImagePopupOpened","setIsImagePopupOpened","isInfoTooltipOpened","setIsInfoTooltipOpened","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","history","useHistory","a","l","changeLikeStatus","newCard","newCards","c","console","log","message","deleteCard","filter","closeAllPopups","user","setProfileInfo","setProfileAvatar","postNewCard","registration","push","login","checkToken","localStorage","setItem","getInitialCards","getContent","getProfileInfo","getUserInfo","jwt","getItem","Provider","Logo","removeItem","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.bfba7ffc.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.c2821b38.svg\";","import React from \"react\";\r\nimport { Link, Route, Switch } from 'react-router-dom';\r\n\r\n\r\nfunction Header(props) {\r\n  const [isBurgerActive, setIsBurgerActive] = React.useState(false);\r\n\r\n  function handleBurgerClick() {\r\n    setIsBurgerActive(!isBurgerActive);\r\n  }\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <div className=\"header__inner\">\r\n        <Link to=\"/\" className=\"header__logo\">\r\n          <img src={props.src} alt=\"Логотип с надписью Место.\" className=\"header__logo-img\" />\r\n        </Link>\r\n        <div className=\"header__burger\" onClick={handleBurgerClick}>\r\n          <span className={`header__burger-line ${isBurgerActive && \"header__burger-line_cross\"}`}></span>\r\n        </div>\r\n      </div>\r\n      <div className={`header__profile ${!isBurgerActive && \"header__profile_hidden\"}`}>\r\n        {props.loggedIn ? (<p className=\"header__email\">{props.email}</p>) : ''}\r\n        <Switch>\r\n          <Route path=\"/sign-in\">\r\n            <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\r\n          </Route>\r\n          <Route path=\"/sign-up\">\r\n            <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\r\n          </Route>\r\n          <Route exact path=\"/\">\r\n            <Link to=\"/sign-up\" onClick={props.onLogOut} className=\"header__link\">Выйти</Link>\r\n          </Route>\r\n        </Switch>\r\n      </div>\r\n    </header >\r\n  );\r\n}\r\n\r\nexport default Header;","import React from 'react';\r\nexport const CurrentUserContext = React.createContext();","import { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\nimport React from 'react';\r\nfunction Card(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const isOwn = props.card.owner._id === currentUser._id;\r\n  const isLiked = props.card.likes.some((like) => {\r\n    return like._id === currentUser._id;\r\n  });\r\n\r\n  function handleClick() {\r\n    props.onCardClick(props.card);\r\n  }\r\n  function handleLikeClick() {\r\n    props.onCardLike(props.card);\r\n  }\r\n  function handleCardDeleteClick() {\r\n    props.onCardDelete(props.card);\r\n  }\r\n  return (\r\n    <div className={props.className} >\r\n      <>\r\n        <img src={props.card.link} alt={props.card.name} className=\"card__image\" onClick={handleClick} loading=\"lazy\" />\r\n        {isOwn && <button type=\"button\" className=\"card__delete\" onClick={handleCardDeleteClick}></button>}\r\n        <div className=\"card__body\">\r\n          <h3 className=\"card__heading\">{props.card.name}</h3>\r\n          <div className=\"card__like\">\r\n            <button type=\"button\" className={`card__btn ${isLiked && \"card__btn_active\"}`} onClick={handleLikeClick}></button>\r\n            <span className=\"card__like-count\">{props.card.likes.length}</span>\r\n          </div>\r\n        </div>\r\n      </>\r\n    </div>\r\n  );\r\n}\r\nexport default Card;","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport Card from './Card';\r\nfunction Main(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      <section className=\"profile\">\r\n        <div className=\"profile__inner\">\r\n          <div className=\"profile__overlay\" onClick={props.onEditAvatar}></div>\r\n          <img src={currentUser.avatar} alt={`Аватар ${currentUser.name}`} className=\"profile__photo\" />\r\n        </div>\r\n        <div className=\"profile__column\">\r\n          <div className=\"profile__row\">\r\n            <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n            <button type=\"button\" className=\"profile__btn profile__btn_edit\" onClick={props.onEditProfile}></button>\r\n          </div>\r\n          <p className=\"profile__subtitle\">\r\n            {currentUser.about}\r\n          </p>\r\n        </div>\r\n        <button type=\"button\" className=\"profile__btn profile__btn_add\" onClick={props.onAddPlace}></button>\r\n      </section>\r\n      <section className=\"cards-gallery\">\r\n        {props.cards.map((card, i) => {\r\n          return (\r\n            <Card className=\"card\" key={card._id} onCardClick={props.onCardClick} card={card} onCardLike={props.onCardLike}\r\n              onCardDelete={props.onCardDelete} />\r\n          );\r\n        })}\r\n      </section>\r\n    </main >);\r\n}\r\n\r\nexport default Main;","function Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2020 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer;","import React from 'react';\r\n\r\nfunction PopupWithForm(props) {\r\n  const ref = React.useRef();\r\n\r\n  function handleOverlayClose(e) {\r\n    if (e.target === ref.current)\r\n      props.onClose();\r\n  }\r\n  return (\r\n    <div className={`popup popup_type_${props.name} ${props.isOpened && \"popup_opened\"}`} ref={ref} onClick={handleOverlayClose}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n        <form action=\"#\" className=\"popup__form\" name={props.name} noValidate onSubmit={props.onSubmit}>\r\n          <h2 className=\"popup__title\">\r\n            {props.title}\r\n          </h2>\r\n          {props.children}\r\n          <button type=\"submit\" className=\"popup__submit\" >Сохранить</button>\r\n        </form>\r\n      </div>\r\n    </div >\r\n  );\r\n}\r\n\r\nexport default PopupWithForm;","import React from 'react';\r\nfunction ImagePopup(props) {\r\n  const ref = React.useRef();\r\n  function handleOverlayClose(e) {\r\n    if (e.target === ref.current)\r\n      props.onClose();\r\n  }\r\n  return (\r\n    <div className={`popup popup_type_image ${props.isOpened && \"popup_opened\"}`} onClick={handleOverlayClose} ref={ref}>\r\n      <div className=\"popup__container\" >\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n        <figure className=\"popup__figure\">\r\n          <img src={props.card.src} alt={props.card.name} className=\"popup__image\" />\r\n          <figcaption className=\"popup__caption\">{`${props.card.name}`}</figcaption>\r\n        </figure>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default ImagePopup;\r\n","export class Api {\r\n  constructor(options) {\r\n    this._baseUrl = options.baseUrl;\r\n    this._token = options.token;\r\n    this._loginUrl = options.loginUrl;\r\n  }\r\n\r\n  _getResponse(res) {\r\n    if (res.ok)\r\n      return res.json();\r\n    return Promise.reject(new Error(`Ошибка: ${res.status}`))\r\n  }\r\n\r\n  getProfileInfo() {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    })\r\n      .then(res => {\r\n        return this._getResponse(res);\r\n      })\r\n  }\r\n\r\n  setProfileInfo(data) {\r\n    return fetch(`${this._baseUrl}users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  postNewCard(data) {\r\n    return fetch(`${this._baseUrl}cards`, {\r\n      method: 'POST',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  deleteCard(id) {\r\n    return fetch(`${this._baseUrl}cards/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  putLike(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  deleteLike(id) {\r\n    return fetch(`${this._baseUrl}cards/likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        authorization: this._token\r\n      }\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  changeLikeStatus(id, isLiked) {\r\n    return (isLiked) ? this.deleteLike(id) : this.putLike(id);\r\n  }\r\n\r\n  setProfileAvatar(data) {\r\n    return fetch(`${this._baseUrl}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        authorization: this._token,\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n  registration(data) {\r\n    return fetch(`${this._loginUrl}signup`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  login(data) {\r\n    return fetch(`${this._loginUrl}signin`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify(\r\n        data\r\n      )\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n  checkToken(token) {\r\n    return fetch(`${this._loginUrl}users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-type': 'application/json',\r\n        'Authorization': `Bearer ${token}`\r\n      },\r\n    }).then(res => {\r\n      return this._getResponse(res);\r\n    })\r\n  }\r\n\r\n}\r\n\r\nconst options = {\r\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19/',\r\n  loginUrl: 'https://auth.nomoreparties.co/',\r\n  token: 'aac4a60b-b09e-40d2-9391-f119b1a59443'\r\n}\r\nconst api = new Api(options);\r\nexport default api;","import React from 'react';\r\n\r\nimport PopupWithForm from './PopupWithForm';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction EditProfilePopup(props) {\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  function handleNameChange(e) {\r\n    e.preventDefault();\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(e) {\r\n    e.preventDefault();\r\n    setDescription(e.target.value)\r\n  }\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateUser({\r\n      name,\r\n      about: description\r\n    });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"profile\" title=\"Редактировать профиль\" isOpened={props.isOpened}\r\n      onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"name-input\" type=\"text\" className=\"popup__input  popup__input_type_title\"\r\n        placeholder=\"Имя\" name=\"name\" required minLength=\"2\" maxLength=\"40\"\r\n        value={name || ''} onChange={handleNameChange} />\r\n      <span id=\"name-input-error\" className=\"popup__error\" ></span>\r\n      <input id=\"job-input\" type=\"text\" className=\"popup__input popup__input_type_subtitle\"\r\n        placeholder=\"О себе\" name=\"about\" required minLength=\"2\" maxLength=\"200\"\r\n        value={description || ''} onChange={handleDescriptionChange} />\r\n      <span id=\"job-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup(props) {\r\n\r\n  const ref = React.useRef('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onUpdateAvatar({ avatar: ref.current.value });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"avatar\" title=\"Обновить аватар\"\r\n      isOpened={props.isOpened} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"avatar-input\" type=\"url\" className=\"popup__input  popup__input_type_link\"\r\n        placeholder=\"Ссылка на картинку\" name=\"avatar\" required ref={ref} />\r\n      <span id=\"avatar-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nfunction AddPlacePopup(props) {\r\n  const [name, setName] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleNameChange(e) {\r\n    e.preventDefault();\r\n    setName(e.target.value);\r\n  }\r\n\r\n  function handleLinkChange(e) {\r\n    e.preventDefault();\r\n    setLink(e.target.value);\r\n  }\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({ name, link });\r\n  }\r\n  return (\r\n    <PopupWithForm name=\"add-card\" title=\"Новое место\" isOpened={props.isOpened} onClose={props.onClose} onSubmit={handleSubmit}>\r\n      <input id=\"place-input\" type=\"text\" className=\"popup__input popup__input_type_place\"\r\n        placeholder=\"Название\" name=\"name\" required minLength=\"2\" maxLength=\"30\" value={name || ''} onChange={handleNameChange} />\r\n      <span id=\"place-input-error\" className=\"popup__error\"></span>\r\n      <input id=\"link-input\" type=\"url\" className=\"popup__input popup__input_type_link\"\r\n        placeholder=\"Ссылка на картинку\" name=\"link\" required value={link || ''} onChange={handleLinkChange} />\r\n      <span id=\"link-input-error\" className=\"popup__error\"></span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;","export default __webpack_public_path__ + \"static/media/succes.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/denied.df8eddf6.svg\";","import React from 'react';\r\nimport Success from '../images/succes.svg';\r\nimport Denied from '../images/denied.svg'\r\nfunction InfoTooltip(props) {\r\n  const [isSuccess, setIsSuccess] = React.useState(false);\r\n  const ref = React.useRef();\r\n\r\n  function handleOverlayClose(e) {\r\n    if (e.target === ref.current)\r\n      props.onClose();\r\n  }\r\n  React.useEffect(() => {\r\n    setIsSuccess(props.isSuccess);\r\n  }, [props.isSuccess]);\r\n  return (\r\n    <div className={`popup popup_type_info ${props.isOpened && \"popup_opened\"}`} ref={ref} onClick={handleOverlayClose}>\r\n      <div className=\"popup__container\">\r\n        <button type=\"button\" className=\"popup__close\" onClick={props.onClose}></button>\r\n        <div className=\"popup__inner\">\r\n          {isSuccess ? (<>\r\n            <img src={Success} className=\"popup__icon\" alt=\"Успех\" />\r\n            <p className=\"popup__info\">Вы успешно зарегистрировались!</p>\r\n          </>) : (<><img src={Denied} className=\"popup__icon\" alt=\"Ошибка\" />\r\n            <p className=\"popup__info\">Что-то пошло не так!\r\nПопробуйте ещё раз.</p></>)\r\n          }\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default InfoTooltip;","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n\r\n  return (\r\n    <Route>\r\n      {() =>\r\n        props.loggedIn ? (<Component {...props} />) : (<Redirect to=\"/sign-up\" />)\r\n      }\r\n    </Route>\r\n  );\r\n}\r\n\r\nexport default ProtectedRoute;","import React from 'react';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nfunction Login(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({ password, email });\r\n  }\r\n  function handleEmailChange(e) {\r\n    e.preventDefault();\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    e.preventDefault();\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <form className=\"authorize__form\" action=\"#\" onSubmit={handleSubmit}>\r\n        <h2 className=\"authorize__heading\">\r\n          Вход\r\n        </h2>\r\n        <fieldset className=\"authorize__fieldset\">\r\n          <input value={email || ''} onChange={handleEmailChange} name=\"email\" className=\"authorize__input\" type=\"email\" />\r\n          <input value={password || ''} onChange={handlePasswordChange} name=\"password\" className=\"authorize__input\" type=\"password\" />\r\n        </fieldset>\r\n        <button className=\"authorize__submit\" type=\"submit\">Войти</button>\r\n      </form>\r\n    </div>)\r\n}\r\n\r\nexport default withRouter(Login);","import React from 'react';\r\nimport { withRouter, Link } from 'react-router-dom';\r\nfunction Register(props) {\r\n  const [email, setEmail] = React.useState('');\r\n  const [password, setPassword] = React.useState('');\r\n\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    props.onSubmit({ password, email });\r\n  }\r\n  function handleEmailChange(e) {\r\n    e.preventDefault();\r\n    setEmail(e.target.value);\r\n  }\r\n  function handlePasswordChange(e) {\r\n    e.preventDefault();\r\n    setPassword(e.target.value);\r\n  }\r\n  return (\r\n    <form className=\"authorize__form\" action=\"#\" onSubmit={handleSubmit}>\r\n      <h2 className=\"authorize__heading\">\r\n        Регистрация\r\n        </h2>\r\n      <fieldset className=\"authorize__fieldset\">\r\n        <input value={email || ''} onChange={handleEmailChange} name=\"email\" className=\"authorize__input\" type=\"email\" />\r\n        <input value={password || ''} onChange={handlePasswordChange} name=\"password\" className=\"authorize__input\" type=\"password\" />\r\n      </fieldset>\r\n      <button className=\"authorize__submit\" type=\"submit\">Зарегестрироваться</button>\r\n      <p className=\"authorize__text\">Уже зарегестрированы? <Link className=\"authorize__link\" to=\"/sign-in\">Войти</Link></p>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default withRouter(Register);","import Logo from '../images/logo.svg';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport PopupWithForm from './PopupWithForm';\nimport ImagePopup from './ImagePopup';\nimport React from 'react';\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\nimport api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport InfoTooltip from './InfoTooltip';\nimport ProtectedRoute from './ProtectedRoute';\nimport Login from './Login';\nimport Register from './Register';\n\n\nfunction App() {\n  const [isEditProfilePopupOpened, setIsEditProfilePopupOpened] = React.useState(false);\n  const [isEditAvatarPopupOpened, setIsEditAvatarPopupOpened] = React.useState(false);\n  const [isAddPlacePopupOpened, setIsAddPlacePopupOpened] = React.useState(false);\n  const [isImagePopupOpened, setIsImagePopupOpened] = React.useState(false);\n  const [isInfoTooltipOpened, setIsInfoTooltipOpened] = React.useState(false);\n\n  const [selectedCard, setSelectedCard] = React.useState({});\n\n  const [currentUser, setCurrentUser] = React.useState({});\n\n  const [cards, setCards] = React.useState([]);\n\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [email, setEmail] = React.useState('');\n\n  const [isSuccess, setIsSuccess] = React.useState(false);\n\n  const history = useHistory();\n  React.useEffect(() => {\n    async function getContent() {\n      try {\n        setCards(await api.getInitialCards());\n      } catch (e) {\n        console.log(e);\n      }\n    }\n    getContent();\n  }, []);\n\n\n  async function handleCardLike(card) {\n    const isLiked = card.likes.some((l) => {\n      return l._id === currentUser._id;\n    });\n    try {\n      const newCard = await api.changeLikeStatus(card._id, isLiked);\n      const newCards = cards.map((c) => {\n        return c._id === card._id ? newCard : c;\n      });\n      setCards(newCards);\n    }\n    catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleCardDelete(card) {\n    try {\n      await api.deleteCard(card._id);\n      const newCards = cards.filter((c) => {\n        return c._id !== card._id;\n      })\n      setCards(newCards);\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n  React.useEffect(() => {\n    async function getUserInfo() {\n      try {\n        setCurrentUser(await api.getProfileInfo());\n      } catch (e) {\n        console.log(e.message);\n      }\n    }\n    getUserInfo();\n  }, []);\n\n  React.useEffect(() => {\n    async function checkToken() {\n      const jwt = localStorage.getItem('jwt');\n      if (jwt) {\n        try {\n          const res = await api.checkToken(jwt)\n          setLoggedIn(true);\n          setEmail(res.data.email);\n        } catch (e) {\n          console.log(e.message);\n        }\n      }\n    }\n    checkToken();\n  }, [loggedIn]);\n\n  function handleAvatarClick() {\n    setIsEditAvatarPopupOpened(true);\n  }\n  function handleProfileClick() {\n    setIsEditProfilePopupOpened(true);\n  }\n  function handleAddClick() {\n    setIsAddPlacePopupOpened(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({\n      ...selectedCard,\n      src: card.link,\n      name: card.name\n    });\n    setIsImagePopupOpened(true);\n  }\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpened(false);\n    setIsEditProfilePopupOpened(false);\n    setIsAddPlacePopupOpened(false);\n    setIsImagePopupOpened(false);\n    setIsInfoTooltipOpened(false);\n  }\n\n  async function handleUpdateUser(user) {\n    try {\n      setCurrentUser(await api.setProfileInfo(user));\n      closeAllPopups();\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleUpdateAvatar(link) {\n    try {\n      setCurrentUser(await api.setProfileAvatar(link));\n      closeAllPopups();\n    }\n    catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleAddPlaceSubmit(data) {\n    try {\n      setCards([await api.postNewCard(data), ...cards]);\n      closeAllPopups();\n    } catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  async function handleRegister(data) {\n    try {\n      await api.registration(data);\n      setIsSuccess(true);\n      setIsInfoTooltipOpened(true);\n      history.push('/sign-in');\n    }\n    catch (e) {\n      setIsSuccess(false);\n      setIsInfoTooltipOpened(true);\n      console.log(e.message)\n    }\n  }\n\n  async function handleLogin(data) {\n    try {\n      const login = await api.login(data);\n      const res = await api.checkToken(login.token);\n      setEmail(res.data.email);\n      localStorage.setItem('jwt', login.token);\n      setLoggedIn(true);\n    }\n    catch (e) {\n      console.log(e.message);\n    }\n  }\n\n  function handleLogOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n  }\n  return (\n    <>\n      <div className=\"page\">\n        <div className=\"page__container\">\n\n          <CurrentUserContext.Provider value={currentUser}>\n\n            <Header src={Logo} onLogOut={handleLogOut} email={email} loggedIn={loggedIn} />\n            <Switch>\n              <ProtectedRoute exact path=\"/\" component={Main} loggedIn={loggedIn}\n                onEditAvatar={handleAvatarClick} onEditProfile={handleProfileClick}\n                onAddPlace={handleAddClick} onCardClick={handleCardClick}\n                cards={cards} onCardLike={handleCardLike} onCardDelete={handleCardDelete}\n              />\n              <Route path=\"/sign-in\">\n                <div className=\"authorize\">\n                  <Login onSubmit={handleLogin} />\n                </div>\n              </Route>\n              <Route path=\"/sign-up\">\n                <div className=\"authorize\">\n                  <Register onSubmit={handleRegister} />\n                </div>\n              </Route>\n            </Switch>\n            <Route>\n              {loggedIn ? (<Redirect exact to=\"/\" />) : (<Redirect to=\"/sign-up\" />)}\n            </Route>\n            <Footer />\n            <EditProfilePopup isOpened={isEditProfilePopupOpened} onClose={closeAllPopups} onUpdateUser={handleUpdateUser} />\n            <EditAvatarPopup isOpened={isEditAvatarPopupOpened} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar} />\n            <AddPlacePopup isOpened={isAddPlacePopupOpened} onClose={closeAllPopups} onSubmit={handleAddPlaceSubmit} />\n            <InfoTooltip isOpened={isInfoTooltipOpened} onClose={closeAllPopups} isSuccess={isSuccess} />\n          </CurrentUserContext.Provider>\n        </div>\n        <PopupWithForm name=\"confirm\" title=\"Вы уверены?\" onClose={closeAllPopups} />\n        <ImagePopup card={selectedCard} isOpened={isImagePopupOpened} onClose={closeAllPopups} />\n      </div>\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import './index.css';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { HashRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}